{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/module.compiled.js","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts","../../../../app/components/ChatBox.tsx","../../../../app/lib/api.ts","../../../../app/components/VoiceInput.tsx","../../../../app/chat/page.tsx"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n","\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { sendChat } from \"../lib/api\";\r\n\r\nexport default function ChatBox() {\r\n  const [input, setInput] = useState(\"\");\r\n  const [messages, setMessages] = useState<string[]>([]);\r\n\r\n  async function handleSend() {\r\n    if (!input) return;\r\n\r\n    setMessages(prev => [...prev, \"ðŸ§‘ \" + input]);\r\n    const res = await sendChat(input);\r\n    setMessages(prev => [...prev, \"ðŸ¤– \" + res.text]);\r\n    setInput(\"\");\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-zinc-900 p-4 rounded-xl border border-zinc-700\">\r\n      <div className=\"h-64 overflow-y-auto space-y-2\">\r\n        {messages.map((m, i) => (\r\n          <p key={i}>{m}</p>\r\n        ))}\r\n      </div>\r\n\r\n      <div className=\"flex gap-2 mt-3\">\r\n        <input\r\n          className=\"flex-1 bg-black p-2 rounded\"\r\n          value={input}\r\n          onChange={e => setInput(e.target.value)}\r\n        />\r\n        <button onClick={handleSend} className=\"px-4 bg-green-600 rounded\">\r\n          Send\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","const BASE_URL =\r\n  \"https://hallucination.calmwave-93bbec10.brazilsouth.azurecontainerapps.io\";\r\n\r\nexport async function getStatus() {\r\n  const res = await fetch(`${BASE_URL}/status`, { cache: \"no-store\" });\r\n  return res.json();\r\n}\r\n\r\nexport async function sendChat(message: string) {\r\n  const res = await fetch(`${BASE_URL}/chat`, {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify({ message })\r\n  });\r\n  return res.json();\r\n}\r\n","\"use client\";\r\n\r\nexport default function VoiceInput() {\r\n  async function startListening() {\r\n    const SpeechRecognition =\r\n      (window as any).SpeechRecognition ||\r\n      (window as any).webkitSpeechRecognition;\r\n\r\n    if (!SpeechRecognition) {\r\n      alert(\"Speech recognition not supported\");\r\n      return;\r\n    }\r\n\r\n    const recognition = new SpeechRecognition();\r\n    recognition.lang = \"en-US\";\r\n    recognition.start();\r\n\r\n   recognition.onresult = async (e: any) => {\r\n      const transcript = e.results[0][0].transcript;\r\n\r\n      const res = await fetch(\r\n        \"https://hallucination.calmwave-93bbec10.brazilsouth.azurecontainerapps.io/voice\",\r\n        {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({\r\n            text: transcript,\r\n            people_detected: 2,\r\n            scene_state: \"calm\",\r\n          }),\r\n        }\r\n      );\r\n\r\n      const data = await res.json();\r\n\r\n      const speech = new SpeechSynthesisUtterance(data.answer);\r\n      speech.lang = \"en-US\";\r\n      window.speechSynthesis.speak(speech);\r\n    };\r\n  }\r\n\r\n  return (\r\n    <div className=\"rounded-xl border border-zinc-800 bg-zinc-950 p-6\">\r\n      <h2 className=\"text-lg font-semibold\">Voice Assistant</h2>\r\n      <p className=\"text-sm text-zinc-400 mt-1\">\r\n        Ask what is happening around you\r\n      </p>\r\n\r\n      <button\r\n        onClick={startListening}\r\n        className=\"mt-4 w-full rounded-lg bg-blue-600 py-3 font-semibold hover:bg-blue-500 transition\"\r\n      >\r\n        ðŸŽ™ Speak\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","\"use client\";\r\n\r\nimport ChatBox from \"../components/ChatBox\";\r\nimport VoiceInput from \"../components/VoiceInput\";\r\n\r\nexport default function ChatPage() {\r\n  return (\r\n    <div className=\"p-8 max-w-3xl mx-auto space-y-4\">\r\n      <ChatBox />\r\n      <VoiceInput />\r\n    </div>\r\n  );\r\n}\r\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","vendored","ReactJsxRuntime","React"],"mappings":"0NA0BQG,EAAOC,OAAO,CAAGC,EAAQ,CAAA,CAAA,IAAA,iCC1BjCF,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRI,QAAQ,CAAC,YAAY,CAAEC,eAAe,+BCFxCP,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRI,QAAQ,CAAC,YAAY,CAAEE,KAAK,0CCA9B,EAAA,EAAA,CAAA,CAAA,OCMO,eAAe,EAAS,CAAe,EAM5C,MAAO,CALK,MAAM,MAAM,GAAG,SAAS,KAAK,CAAC,+DAAE,CAC1C,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,SAAS,CAAC,SAAE,CAAQ,EACjC,EAAA,EACW,IAAI,EACjB,CDVe,SAAS,IACtB,GAAM,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC7B,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAW,EAAE,EAErD,eAAe,IACb,GAAI,CAAC,EAAO,OAEZ,EAAY,GAAQ,IAAI,EAAM,MAAQ,EAAM,EAC5C,IAAM,EAAM,MAAM,EAAS,GAC3B,EAAY,GAAQ,IAAI,EAAM,MAAQ,EAAI,IAAI,CAAC,EAC/C,EAAS,GACX,CAEA,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8DACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0CACZ,EAAS,GAAG,CAAC,CAAC,EAAG,IAChB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,UAAW,GAAJ,MAIZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4BACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,UAAU,8BACV,MAAO,EACP,SAAU,GAAK,EAAS,EAAE,MAAM,CAAC,KAAK,IAExC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,QAAS,EAAY,UAAU,qCAA4B,cAM3E,CEpCe,SAAS,IACtB,eAAe,IACb,IAAM,EACH,OAAe,iBAAiB,EAChC,OAAe,uBAAuB,CAEzC,GAAI,CAAC,EAAmB,YACtB,MAAM,oCAIR,IAAM,EAAc,IAAI,EACxB,EAAY,IAAI,CAAG,QACnB,EAAY,KAAK,GAElB,EAAY,QAAQ,CAAG,MAAO,IAC3B,IAAM,EAAa,EAAE,OAAO,CAAC,EAAE,CAAC,EAAE,CAAC,UAAU,CAEvC,EAAM,MAAM,MAChB,kFACA,CACE,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,SAAS,CAAC,CACnB,KAAM,EACN,gBAAiB,EACjB,YAAa,MACf,EACF,GAKI,EAAS,IAAI,yBAAyB,CAF/B,MAAM,EAAI,IAAI,EAAA,EAEsB,MAAM,EACvD,EAAO,IAAI,CAAG,QACd,OAAO,eAAe,CAAC,KAAK,CAAC,EAC/B,CACF,CAEA,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8DACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,iCAAwB,oBACtC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA6B,qCAI1C,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,EACT,UAAU,8FACX,eAKP,CCnDe,SAAS,IACtB,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4CACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAA,GACD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAA,KAGP","ignoreList":[0,1,2]}